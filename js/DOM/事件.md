## 事件

- 何为事件 
- 重要吗？——交互体验的核心功能
- 演示demo —— 拖拽，和点击



如何**绑定事件处理函数**

- ele.onxxx = function(event){}

  - 兼容性很好，但是一个元素的**同一个事件上只能绑定一个处理程序**
  - 基本等同于写在HTML行间上  句柄的绑定方式

- obj.addEventListener(type, fn, false);  // W3C标准写法

  - IE9以下不兼容，可以为一个事件绑定多个处理程序

    同一个函数不能绑定多次，绑定多次也执行一次；

    ```javascript
    var div = document.getElementsByTagName('div')[0];
    
    div.addEventListener('click', function() {
        console.log('a');
    }, false);
    ```

- obj.attachEvent('on'+ type, fn);

  - IE独有，一个事件同样可以绑定多个处理程序

案例：使用原生js，addEventListener，给每个li元素绑定一个click事件，输出他们的顺序。

```html
<ul>
  <li>a</li>
  <li>b</li>
  <li>c</li>
  <li>d</li>
</ul>
```

案例答案：注意闭包

```javascript
var lis = document.getElementsByTagName('li'),
    len = lis.length;

for (var i = 0; i < len; i++) {
    (function(j) {  // 立即执行函数
        lis[i].addEventListener('click', function() {
            console.log(j);
        }, false);
    }(i));
}
```

事件处理程序的运行环境

- ele.onxxx = function(event){}

  - 程序this指向是dom元素本身

- obj.addEventListener(type, fn, false);

  - 程序this指向是dom元素本身

- obj.attachEvent('on'+type, fn);

  - 程序this指向window

- 封装兼容性的addEvent(elem, type, handle);方法

  ```javascript
  function addEvent(elem, type, handle){
    
  }
  ```
